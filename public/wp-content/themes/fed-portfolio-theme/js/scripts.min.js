function initItemTl(a){var b=jQuery(a).parent();tl.add(TweenLite.to(jQuery(".portfolio-item-listing",jQuery(b).parent()),.8,{opacity:0,width:"0"})),tl.add(TweenLite.to(jQuery(".project-link-text",a),.2,{opacity:0,display:"none"})),tl.add(TweenLite.to(jQuery(".project-link-img img",a),.6,{rotation:45,ease:Bounce.easeOut})),tl.add(TweenLite.to(jQuery(".project-link-img img",a),.4,{opacity:0,ease:"Power2.easeOut"})),tl.add(TweenLite.to(jQuery(".project-link-img",a),.8,{backgroundColor:"rgba(0,0,0,0.6)",minHeight:"75vh",ease:"Power2.easeOut"})),tl.add(TweenLite.to(jQuery(".project-link-img img",a),.4,{width:"50%",ease:Power2.easeInOut})),tl.add(TweenLite.to(jQuery(a).parent(),.1,{maxWidth:"850px",onComplete:openProject,onCompleteParams:[jQuery(a).attr("href"),b]})),tl.add(TweenLite.to(jQuery(a).parent(),.8,{className:"+= large-10",ease:"Power2.easeOut"})),tl.play(),TweenLite.to(window,1.2,{scrollTo:{y:jQuery(b).offset().top-50},ease:"Power2.easeInOut"})}function openProject(a,b){inProgress(b,!0);var c=a;"object"==typeof a&&(c=a[0]),jQuery.get(c,function(a){jQuery(".project-info",jQuery(b).parent()).html(a),inProgress(b,!1),jQuery(".project-info",b).fadeIn(300),transformed=!0,enableCloseInfo()})}function enableCloseInfo(){jQuery(".close-info").on("click",function(a){jQuery(".close-info").fadeOut(200),jQuery(".project-info").fadeOut(400),tl.timeScale(1).reverse()})}function disableCloseInfo(){jQuery(".close-info").unbind("click")}function animateMenu(){if(expanded){if(!expanded)return!1;jQuery("#menu-toggle i").removeClass("fa-times-circle").addClass("fa-bars"),TweenLite.to(jQuery("#slider"),.6,{left:-250,ease:Power1.easeIn,onComplete:menuToggle,onCompleteParams:[!1]}),TweenLite.to(jQuery("#wrapper"),.6,{left:0,ease:Power1.easeIn})}else jQuery("#menu-toggle i").removeClass("fa-bars").addClass("fa-times-circle"),TweenLite.to(jQuery("#slider"),.8,{left:0,ease:Power1.easeOut,onComplete:menuToggle,onCompleteParams:[!0]}),TweenLite.to(jQuery("#wrapper"),.8,{left:250,ease:Power1.easeOut})}function menuToggle(a){expanded=a}function closeItem(){disableCloseInfo(),tl.pause(0,!0),tl.clear(),jQuery(".project-link-text").fadeIn(400),transformed=!1}function animateSkills(){skills||(jQuery(".chart").percentcircle(),skills=!0)}function initPortfolioTl(){if(itemsOnScreen){if(!itemsOnScreen)return!1;elementsScrollFix(),tlp.add(TweenLite.to(jQuery(".portfolio-item"),.5,{ease:"Power2.easeIn",left:-5e3})),tlp.add(TweenLite.to(jQuery(".portfolio-item"),.1,{"float":"left"})),tlp.play(),itemsOnScreen=!1}else elementsScrollFix(),tlp.add(TweenLite.to(jQuery(".portfolio-item"),.1,{"float":"none"})),tlp.add(TweenLite.to(jQuery(".portfolio-item"),1,{ease:"Power3.easeOut",left:0})),tlp.play(),itemsOnScreen=!0}function resetPortfolioTl(){tl.pause(0),tlp.clear()}function initScrollTl(){tls.add(TweenLite.to(jQuery("#scroll-down .fa"),.5,{y:15,easing:Bounce.easeOut})),tls.add(TweenLite.to(jQuery("#scroll-down .fa"),.5,{y:0}))}function stopScrollIndicator(){tls.pause(0),tls.clear()}function inProgress(a,b){if(b)jQuery("#loading",a).fadeIn(100),loading=TweenLite.to(jQuery("#loading i",a),.3,{rotation:"+45",onComplete:function(){this.restart(),console.log("spinning")}});else{if(b)return!1;loading.kill(),jQuery("#loading",a).fadeOut(100)}}function elementsScrollFix(){closeItem(),jQuery(".project-info").fadeOut(100),jQuery(".close-info").fadeOut(100),jQuery("#loading").fadeOut(100)}!function(a){a.fn.extend({percentcircle:function(b){function c(){f.each(function(){var c=a(this),d=Math.round(c.data("percent")),f=3.6*d,i=b.animate?0:f,j=a(g.replace("{{percentage}}",d+"%"));j.css(e.cirContainer).find(".ab").css(e.cir).find(".cir").css(e.cirCover).find(".perc").css(e.percent),c.append(j),setTimeout(function(){h(f,parseInt(i),j.find(".ab"))},250)})}var d={animate:!0,diameter:150,guage:20,coverBg:"#fff",bgColor:"#000",fillColor:"green",percentSize:"1rem",percentWeight:"800"},e={cirContainer:{width:d.diameter,height:d.diameter},cir:{position:"relative","text-align":"center",width:d.diameter,height:d.diameter,"border-radius":"100%","background-color":d.bgColor,"background-image":"linear-gradient(91deg, transparent 50%, "+d.bgColor+" 50%), linear-gradient(90deg, "+d.bgColor+" 50%, transparent 50%)"},cirCover:{position:"relative",top:d.guage,left:d.guage,"text-align":"center",width:d.diameter-2*d.guage,height:d.diameter-2*d.guage,"border-radius":"100%","background-color":d.coverBg},percent:{display:"block",width:d.diameter,height:d.diameter,"line-height":d.diameter+"px","vertical-align":"middle","font-size":d.percentSize,"font-weight":d.percentWeight,color:"#202020"}},f=this,g='<div class="center-block"><div class="ab" style="opacity: 0.8;"><div class="cir cc"><span class="perc">{{percentage}}</span></div></div></div>',b=a.extend(d,b),h=function(a,c,d){var e=c;a>=c&&(e>=180?d.css("background-image","linear-gradient("+(90+e)+"deg, transparent 50%, "+b.fillColor+" 50%),linear-gradient(90deg, "+b.fillColor+" 50%, transparent 50%)"):d.css("background-image","linear-gradient("+(e-90)+"deg, transparent 50%, "+b.bgColor+" 50%),linear-gradient(90deg, "+b.fillColor+" 50%, transparent 50%)"),c++,setTimeout(function(){h(a,c,d)},1))};c()}})}(jQuery);var expanded=!1,skills=!1,transformed=!1,itemsOnScreen=!1,scrollIndicator=!0,loading,tl=new TimelineLite({paused:!0,onReverseComplete:closeItem}),tlp=new TimelineLite({paused:!0,onComplete:resetPortfolioTl}),tls=new TimelineLite({onComplete:function(){this.restart()}}),controller=new ScrollMagic.Controller,userAgent=window.navigator.userAgent;(userAgent.indexOf("MSIE")>-1||Object.hasOwnProperty.call(window,"ActiveXObject")&&!window.ActiveXObject||!Modernizr.flexbox)&&jQuery("body").html(""),jQuery(document).ready(function(){initScrollTl();var a=new ScrollMagic.Scene({triggerElement:"#about-anchor"}).on("start",function(){stopScrollIndicator()});if(a.addTo(controller),!skills){var b=new ScrollMagic.Scene({triggerElement:".about h2"}).on("start",function(){TweenLite.to(jQuery(".charts h4"),.3,{opacity:1,ease:Power2.easeOut,onComplete:animateSkills})});b.addTo(controller)}if(!itemsOnScreen){var c=new ScrollMagic.Scene({triggerElement:".portfolio"}).on("start",function(){initPortfolioTl()});c.addTo(controller)}jQuery("#menu-toggle").on("click",function(){animateMenu()}),jQuery(".main-menu a").on("click",function(a){a.preventDefault(),target=jQuery(this).attr("href"),TweenLite.to(window,1.5,{scrollTo:{y:jQuery(target).offset().top},ease:Power2.easeInOut})}),jQuery("#user_portrait img").attr("width",""),jQuery("#user_portrait img").attr("height",""),jQuery(".custom-post-link").on("click",function(a){return a.preventDefault(),"close-info"!=a.target.id&&0==transformed?(jQuery(".close-info",this).fadeIn(300),initItemTl(jQuery(this)),!1):void 0}),jQuery("#repeat-skill-animation").on("click",function(){jQuery(".chart").html(""),skills=!1,animateSkills()})});