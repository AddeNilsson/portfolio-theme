function initItemTl(a){var b=jQuery(a).parent();tl.add(TweenLite.to(jQuery(".project-link-text",a),.5,{display:"none"})),tl.add(TweenLite.to(jQuery(".project-link-img",a),.4,{rotation:45,ease:Bounce.easeOut})),tl.add(TweenLite.to(jQuery(a).parent(),.4,{className:"+= small-pull-3",ease:"Power2.easeOut"})),tl.add(TweenLite.to(jQuery(".project-link-img",a),.4,{backgroundColor:"#fff",ease:"Power2.easeOut"})),tl.add(TweenLite.to(jQuery(a).parent(),.4,{className:"+= large-6",ease:"Power2.easeOut"})),tl.add(TweenLite.to(jQuery(a).parent(),.6,{backgroundColor:"rgba(0,0,0,0.4)",ease:"Power2.easeOut",onComplete:openProject,onCompleteParams:[jQuery(a).attr("href"),b]})),tl.play()}function openProject(a,b){var c=a;"object"==typeof a&&(c=a[0]),jQuery.get(c,function(a){jQuery(".project-info",b).html(a),jQuery(".project-info",b).fadeIn(300),transformed=!0,enableCloseInfo()})}function enableCloseInfo(){jQuery(".close-info").on("click",function(a){jQuery(".close-info").fadeOut(200),jQuery(".project-info").fadeOut(400),tl.reverse()})}function disableCloseInfo(){jQuery(".close-info").unbind("click")}function menuToggle(a){expanded=a}function closeItem(){disableCloseInfo(),tl.pause(0,!0),tl.clear(),jQuery(".project-link-text").fadeIn(400),transformed=!1}function animateSkills(){skills||(jQuery(".demo").percentcircle(),skills=!0)}function initPortfolioTl(){itemsOnScreen?(tlp.add(TweenLite.to(jQuery(".portfolio-item"),.5,{ease:"Power2.easeIn",left:-5e3})),tlp.add(TweenLite.to(jQuery(".portfolio-item"),.1,{"float":"left"})),tlp.play(),itemsOnScreen=!1):(tlp.add(TweenLite.to(jQuery(".portfolio-item"),.1,{"float":"none"})),tlp.add(TweenLite.to(jQuery(".portfolio-item"),1,{ease:"Power3.easeOut",left:0})),tlp.play(),itemsOnScreen=!0)}function resetPortfolioTl(){tl.pause(0),tlp.clear()}function initScrollTl(){tls.add(TweenLite.to(jQuery("#scroll-down"),.5,{rotation:35})),tls.add(TweenLite.to(jQuery("#scroll-down"),.5,{rotation:0})),tls.add(TweenLite.to(jQuery("#scroll-down"),.5,{rotation:-35})),tls.add(TweenLite.to(jQuery("#scroll-down"),.5,{rotation:0})),tls.reverse()}function stopScrollIndicator(){tls.pause(0),tls.clear()}!function(a){a.fn.extend({percentcircle:function(b){function c(){f.each(function(){var c=a(this),d=Math.round(c.data("percent")),f=3.6*d,i=b.animate?0:f,j=a(g.replace("{{percentage}}",d+"%"));j.css(e.cirContainer).find(".ab").css(e.cir).find(".cir").css(e.cirCover).find(".perc").css(e.percent),c.append(j),setTimeout(function(){h(f,parseInt(i),j.find(".ab"))},250)})}var d={animate:!0,diameter:150,guage:20,coverBg:"#fff",bgColor:"#000",fillColor:"green",percentSize:"1rem",percentWeight:"800"},e={cirContainer:{width:d.diameter,height:d.diameter},cir:{position:"relative","text-align":"center",width:d.diameter,height:d.diameter,"border-radius":"100%","background-color":d.bgColor,"background-image":"linear-gradient(91deg, transparent 50%, "+d.bgColor+" 50%), linear-gradient(90deg, "+d.bgColor+" 50%, transparent 50%)"},cirCover:{position:"relative",top:d.guage,left:d.guage,"text-align":"center",width:d.diameter-2*d.guage,height:d.diameter-2*d.guage,"border-radius":"100%","background-color":d.coverBg},percent:{display:"block",width:d.diameter,height:d.diameter,"line-height":d.diameter+"px","vertical-align":"middle","font-size":d.percentSize,"font-weight":d.percentWeight,color:"#202020"}},f=this,g='<div class="center-block"><div class="ab" style="opacity: 0.8;"><div class="cir cc"><span class="perc">{{percentage}}</span></div></div></div>',b=a.extend(d,b),h=function(a,c,d){var e=c;a>=c&&(e>=180?d.css("background-image","linear-gradient("+(90+e)+"deg, transparent 50%, "+b.fillColor+" 50%),linear-gradient(90deg, "+b.fillColor+" 50%, transparent 50%)"):d.css("background-image","linear-gradient("+(e-90)+"deg, transparent 50%, "+b.bgColor+" 50%),linear-gradient(90deg, "+b.fillColor+" 50%, transparent 50%)"),c++,setTimeout(function(){h(a,c,d)},1))};c()}})}(jQuery);var expanded=!1,skills=!1,transformed=!1,itemsOnScreen=!1,scrollIndicator=!0,tl=new TimelineLite({paused:!0,onReverseComplete:closeItem}),tlp=new TimelineLite({paused:!0,onComplete:resetPortfolioTl}),tls=new TimelineLite({onReverseComplete:initScrollTl}),controller=new ScrollMagic.Controller;jQuery(document).ready(function(){if(initScrollTl(),!skills){var a=new ScrollMagic.Scene({triggerElement:".about"}).on("start",function(){animateSkills()});a.addIndicators(),a.addTo(controller)}if(!itemsOnScreen){var b=new ScrollMagic.Scene({triggerElement:".portfolio"}).on("start",function(){initPortfolioTl()});b.addIndicators(),b.addTo(controller)}var c=new ScrollMagic.Scene({triggerElement:"#scroll-down"}).on("start",function(){stopScrollIndicator()});c.addIndicators(),c.addTo(controller),jQuery("#menu-toggle").on("click",function(){expanded?(jQuery("#slider").animate({left:-250},500,"linear",menuToggle(!1)),jQuery("#wrapper").animate({left:0},500)):(jQuery("#slider").animate({left:0},500,"linear",menuToggle(!0)),jQuery("#wrapper").animate({left:250},500))}),jQuery("#user_portrait img").attr("width",""),jQuery("#user_portrait img").attr("height",""),jQuery(".custom-post-link").on("click",function(a){return a.preventDefault(),"close-info"!=a.target.id&&0==transformed?(jQuery(".close-info",this).fadeIn(300),initItemTl(jQuery(this)),!1):void 0}),jQuery("#repeat-skill-animation").on("click",function(){jQuery(".demo").html(""),skills=!1,animateSkills()})});